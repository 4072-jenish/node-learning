<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Todo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<style>
    .dark-mode {
        background-color: #121212 !important;
        color: white !important;
    }

    .dark-mode .card {
        background-color: #1e1e1e !important;
        color: white !important;
        border-color: #444;
    }

    .dark-mode .card-title,
    .dark-mode .card-text,
    .dark-mode label {
        color: white !important;
    }

    .dark-mode .form-control,
    .dark-mode .form-select,
    .dark-mode textarea {
        background-color: #333 !important;
        color: white !important;
        border-color: #555;
    }

    .dark-mode input::placeholder,
    .dark-mode textarea::placeholder {
        color: #ccc !important;
    }

    .dark-mode .btn-outline-dark {
        color: white;
        border-color: white;
    }

    .dark-mode .btn-outline-secondary {
        color: white !important;
        border-color: white !important;
    }

    .dark-mode .btn-outline-danger {
        color: #ff6b6b !important;
        border-color: #ff6b6b !important;
    }

    .dark-mode .text-muted {
        color: #bbb !important;
    }
</style>


<body class="bg-light">

<div class="container py-5">
    <h1 class="text-center mb-4">✏️ Edit Todo</h1>

    <div class="card mx-auto shadow-sm" style="max-width: 600px;">
        <div class="card-body">
            <form action="/edit" method="POST" class="row g-3">
                <input type="hidden" name="index" value="<%= index %>">

                <div class="col-12">
                    <label class="form-label">Title</label>
                    <input type="text" name="title" value="<%= todo.title %>" class="form-control" required>
                </div>

                <div class="col-12">
                    <label class="form-label">Content</label>
                    <input type="text" name="content" value="<%= todo.content %>" class="form-control" required>
                </div>

                <div class="col-12">
                    <label class="form-label">Priority</label>
                    <select name="priority" class="form-select" required>
                        <option value="">Select Priority</option>
                        <option value="One" <%= todo.priority === 'One' ? 'selected' : '' %>>Priority One</option>
                        <option value="Two" <%= todo.priority === 'Two' ? 'selected' : '' %>>Priority Two</option>
                        <option value="Three" <%= todo.priority === 'Three' ? 'selected' : '' %>>Priority Three</option>
                    </select>
                </div>

                <div class="col-12">
                    <label class="form-label">Date</label>
                    <input type="date" name="date" value="<%= todo.date %>" class="form-control" required>
                </div>

                <div class="col-12 d-flex justify-content-between">
                    <a href="/" class="btn btn-outline-secondary">← Back</a>
                    <button type="submit" class="btn btn-success">Update</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    const toggleBtn = document.getElementById('toggleMode');
    const body = document.body;

    // Load saved mode from localStorage
    if (localStorage.getItem('mode') === 'dark') {
        body.classList.add('dark-mode');
    }

    toggleBtn.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        const mode = body.classList.contains('dark-mode') ? 'dark' : 'light';
        localStorage.setItem('mode', mode);
    });
</script>

</body>
</html>
